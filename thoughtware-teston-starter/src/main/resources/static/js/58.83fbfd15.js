(window.webpackJsonp=window.webpackJsonp||[]).push([[58,77],{1072:function(e,t,n){"use strict";n.r(t),n(475);var a=n(371),o=(n(506),n(378)),l=(n(173),n(46)),i=(n(217),n(106)),r=n(0),u=n.n(r),s=n(78),c=n(1016),m=n(282),d=n.n(m),_=function(){return(_=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};var f,b,p,v="styles-module_Editext__button__sxYQX",N="styles-module_Editext__input__2-M50",y="styles-module_Editext__buttons_container__2za5Q",E="styles-module_Editext__buttons_before_aligned__3Eg6w",x="styles-module_Editext__buttons_after_aligned__2ZHQz",h="styles-module_Editext__hide_default_icons__2k5RX";function g(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Array.apply(void 0,e).filter((function(e){return e})).join(" ")}m='.styles-module_Editext__button__sxYQX {\n  border-radius: 1px;\n  outline: none;\n  padding: 0.6em;\n  min-width: 30px;\n  height: 100%;\n  border-color: rgb(216, 216, 216) rgb(209, 209, 209) rgb(186, 186, 186);\n  border-style: solid;\n  border-width: 1px;\n}\n\n.styles-module_Editext__button__sxYQX:hover {\n  cursor: pointer;\n  background-color: rgba(241, 241, 241, 1);\n}\n\n.styles-module_Editext__input__2-M50 {\n  width: 100%;\n  border: 1px solid rgb(212, 212, 212);\n  padding: 0.6em;\n  outline: none;\n}\n\n.styles-module_Editext__main_container__2azCD {\n  display: flex;\n  flex-direction: column;\n}\n\n.styles-module_Editext__editing_container__1C4d6 {\n  display: flex;\n  flex: 1;\n  align-items: center;\n}\n\n.styles-module_Editext__view_container__3oSYx {\n  display: flex;\n  align-items: center;\n}\n\n.styles-module_Editext__buttons_container__2za5Q {\n  display: flex;\n}\n\n.styles-module_Editext__buttons_showButtonsOnHover__2Bfsd .styles-module_Editext__buttons_container__2za5Q {\n  visibility: hidden;\n}\n\n.styles-module_Editext__buttons_showButtonsOnHover__2Bfsd:hover .styles-module_Editext__buttons_container__2za5Q {\n  visibility: visible;\n}\n\n.styles-module_Editext__buttons_before_aligned__3Eg6w {\n  margin-right: 5px;\n}\n\n.styles-module_Editext__buttons_after_aligned__2ZHQz {\n  margin-left: 5px;\n}\n\n.styles-module_Editext__validation_message__1puii {\n  font-weight: 500;\n  color: crimson;\n  font-size: 0.7em;\n  margin-top: 3px;\n}\n\n.styles-module_Editext__cancel_button__26sqr {\n  color: crimson;\n}\n\n.styles-module_Editext__cancel_button__26sqr::before {\n  content: "\\2715";\n  margin: 3px;\n}\n\n.styles-module_Editext__edit_button__310_J {\n  color: #000;\n}\n\n.styles-module_Editext__edit_button__310_J::before {\n  content: "\\270E";\n  margin: 3px;\n}\n\n.styles-module_Editext__save_button__1Dlwo {\n  color: darkgreen;\n  margin-right: 3px;\n}\n\n.styles-module_Editext__save_button__1Dlwo::before {\n  content: "\\2713";\n  margin: 3px;\n}\n\n.styles-module_Editext__hide_default_icons__2k5RX::before {\n  content: none;\n  margin: 0;\n}\n\n.styles-module_Editext__hint__EGeV0 {\n  font-weight: 500;\n  color: lightslategray;\n  font-size: 0.7em;\n  margin-top: 3px;\n  text-align: left;\n}\n',f=(f=void 0===f?{}:f).insertAt,"undefined"!=typeof document&&(b=document.head||document.getElementsByTagName("head")[0],(p=document.createElement("style")).type="text/css","top"===f&&b.firstChild?b.insertBefore(p,b.firstChild):b.appendChild(p),p.styleSheet?p.styleSheet.cssText=m:p.appendChild(document.createTextNode(m)));var w="view-container",C="input";function O(e){var t=(f=Object(r.useState)(e.editing))[0],n=f[1],a=(f=Object(r.useState)(!0))[0],o=f[1],l=(f=Object(r.useState)(e.value||""))[0],i=f[1],s=(f=Object(r.useState)(void 0))[0],c=f[1],m=(f=Object(r.useState)(!1))[0],d=f[1],f=u.a.createRef(),b=u.a.createRef(),p=u.a.createRef();function O(t){var n=null==(n=p.current)?void 0:n.contains(null==t?void 0:t.relatedTarget);e.cancelOnUnfocus&&!n&&S(),!e.submitOnUnfocus||n||e.cancelOnUnfocus||B(),null!=(n=e.inputProps)&&n.onBlur&&e.inputProps.onBlur(t)}function P(t){var a;d(!0),e.startEditingOnFocus&&n(!0),null!=(a=e.viewProps)&&a.onFocus&&e.viewProps.onFocus(t)}function I(t){var a=[13,"Enter"].some((function(e){return t.key===e||t.code===e}))&&m&&e.startEditingOnEnter;a&&t.preventDefault(),a&&n(!0),null!=(a=e.viewProps)&&a.onKeyDown&&e.viewProps.onKeyDown(t)}function j(t){var n,a;o(!0),i(t.target.value),null!=(a=null==(n=e.inputProps)?void 0:n.onChange)&&a.call(n,t)}function S(){var t,a=null!=s?s:e.value;o(!0),n(!1),i(a),null!=(t=e.onCancel)&&t.call(e,a,e.inputProps)}function D(){var t;(void 0===(t=e.canEdit)||("function"==typeof t?t():t))&&(n(!0),null!=(t=e.onEditingStart)&&t.call(e,l,e.inputProps))}function B(){var t,a,i,r,u;return a=this,u=function(){return function(e,t){var n,a,o,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},i={next:r(0),throw:r(1),return:r(2)};return"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function r(i){return function(r){var u=[i,r];if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,a&&(o=2&u[0]?a.return:u[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,u[1])).done)return o;switch(a=0,(u=o?[2&u[0],o.value]:u)[0]){case 0:case 1:o=u;break;case 4:return l.label++,{value:u[1],done:!1};case 5:l.label++,a=u[1],u=[0];continue;case 7:u=l.ops.pop(),l.trys.pop();continue;default:if(!((o=0<(o=l.trys).length&&o[o.length-1])||6!==u[0]&&2!==u[0])){l=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3]))l.label=u[1];else if(6===u[0]&&l.label<o[1])l.label=o[1],o=u;else{if(!(o&&l.label<o[2])){o[2]&&l.ops.pop(),l.trys.pop();continue}l.label=o[2],l.ops.push(u)}}u=t.call(e,l)}catch(r){u=[6,r],a=0}finally{n=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}}(this,(function(a){switch(a.label){case 0:return"function"!=typeof e.validation?[3,3]:[4,e.validation(l)];case 1:return a.sent()?[3,3]:(o(!1),[4,null==(t=e.onValidationFail)?void 0:t.call(e,l)]);case 2:return a.sent(),[2];case 3:return n(!1),c(l),e.onSave(l,e.inputProps),[2]}}))},new(r=(r=i=void 0)||Promise)((function(e,t){function n(e){try{l(u.next(e))}catch(e){t(e)}}function o(e){try{l(u.throw(e))}catch(e){t(e)}}function l(t){var a;t.done?e(t.value):((a=t.value)instanceof r?a:new r((function(e){e(a)}))).then(n,o)}l((u=u.apply(a,i||[])).next())}))}Object(r.useEffect)((function(){e.cancelOnUnfocus&&e.submitOnUnfocus}),[e.cancelOnUnfocus,e.submitOnUnfocus]),Object(r.useEffect)((function(){void 0!==e.value&&(i(e.value),c(e.value)),void 0!==e.editing&&n(e.editing)}),[e.editing,e.value]);var T,k,Y,M,A;t=t?(t="textarea"===e.type?u.a.createElement("textarea",_({className:N,editext:C,tabIndex:e.tabIndex},e.inputProps,{onBlur:O,value:l,onChange:j,autoFocus:t})):u.a.createElement("input",_({className:N,editext:C,tabIndex:e.tabIndex},e.inputProps,{onKeyDown:function(t){var n=[13,"Enter"].some((function(e){return t.key===e||t.code===e})),a=[27,"Escape","Esc"].some((function(e){return t.code===e||t.key===e}));n&&(e.submitOnEnter&&B(),null!=t&&t.preventDefault()),a&&(e.cancelOnEscape&&S(),t.preventDefault()),null!=(n=e.inputProps)&&n.onKeyDown&&e.inputProps.onKeyDown(t)},onBlur:O,value:l,type:e.type||"text",onChange:j,autoFocus:t})),T=g("".concat(v),"".concat("styles-module_Editext__save_button__1Dlwo"),e.hideIcons&&"".concat(h)),T=e.saveButtonClassName||T,k=g("".concat(v),"".concat("styles-module_Editext__cancel_button__26sqr"),e.hideIcons&&"".concat(h)),k=e.cancelButtonClassName||k,Y="styles-module_Editext__editing_container__1C4d6",e.editContainerClassName&&(Y=e.editContainerClassName),e.viewContainerClassName&&(Y=e.viewContainerClassName),M=e.buttonsAlign||"after",A=g(y,"before"===M&&"".concat(E),"after"===M&&"".concat(x)),u.a.createElement("div",null,u.a.createElement("div",{ref:b,className:Y,editext:"edit-container"},"after"===M&&t,u.a.createElement("div",{className:A,ref:p},u.a.createElement("button",{ref:f,editext:"save-button",type:"button",className:T,onClick:B},e.saveButtonContent),u.a.createElement("button",{type:"button",editext:"cancel-button",className:k,onClick:S},e.cancelButtonContent)),"before"===M&&t),!a&&!e.onValidationFail&&u.a.createElement("div",{className:"styles-module_Editext__validation_message__1puii"},e.validationMessage||"Invalid Value"),e.hint&&u.a.createElement("div",{className:"styles-module_Editext__hint__EGeV0",editext:"hint"},e.hint))):(b=g("".concat(v),"".concat("styles-module_Editext__edit_button__310_J"),e.hideIcons&&"".concat(h)),Y=e.editButtonClassName||b,A=g(e.viewContainerClassName||"styles-module_Editext__view_container__3oSYx",e.showButtonsOnHover&&"".concat("styles-module_Editext__buttons_showButtonsOnHover__2Bfsd")),f=e.buttonsAlign||"after",T=g(y,"before"===f&&"".concat(E),"after"===f&&"".concat(x)),k=e.editOnViewClick?D:void 0,M="function"==typeof e.renderValue?e.renderValue(l):l,u.a.createElement("div",{className:A,editext:w},"after"===f&&u.a.createElement("div",_({tabIndex:e.tabIndex},e.viewProps,{onKeyDown:I,onFocus:P,onClick:k,editext:"view"}),M),u.a.createElement("div",{className:T},u.a.createElement("button",_({type:"button",className:Y},e.editButtonProps,{editext:"edit-button",onClick:D}),e.editButtonContent)),"before"===f&&u.a.createElement("div",_({tabIndex:e.tabIndex},e.viewProps,{onKeyDown:I,onFocus:P,onClick:k,editext:w}),M))),b=g((null==(a=e.containerProps)?void 0:a.className)||e.mainContainerClassName||"styles-module_Editext__main_container__2azCD",e.className);return u.a.createElement("div",_({},e.containerProps,{className:b,editext:"main-container"}),t)}var P=n(608),I=n(98),j=n(243),S=n(994),D="D:\\a-dk-web\\thoughtware-teston-ui\\src\\testplan\\plan\\components\\testPlanDetail.js";function B(){return(B=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n,a=arguments[t];for(n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function T(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,o,l=[],i=!0,r=!1;try{for(n=n.call(e);!(i=(a=n.next()).done)&&(l.push(a.value),!t||l.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(r)throw o}}return l}}(e,t)||function(e,t){var n;if(e)return"string"==typeof e?k(e,t):"Map"===(n="Object"===(n=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?k(e,t):void 0}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var Y=i.default.Option;t.default=Object(s.inject)("testPlanStore")(Object(s.observer)((function(e){var t=(x=e.testPlanStore).findTestPlan,n=x.updateTestPlan,s=T(l.default.useForm(),1)[0],m=(x=T(Object(r.useState)(),2))[0],_=x[1],f=(x=T(Object(r.useState)("1"),2))[0],b=x[1],p=(x=T(Object(r.useState)(),2))[0],v=x[1],N=Object(I.i)().id,y=sessionStorage.getItem("testPlanId")||N,E=(Object(r.useEffect)((function(){sessionStorage.setItem("testPlanId",N),t(y).then((function(e){_(e),s.setFieldsValue({startTime:d()(e.startTime,"YYYY-MM-DD"),endTime:d()(e.endTime,"YYYY-MM-DD"),state:E(e.state)})}))}),[y]),function(e){switch(e){case 0:return"未开始";case 1:return"进行中";case 2:return"结束"}}),x=[{label:"用例",key:"1",children:u.a.createElement(c.default,B({tabKey:f},e,{__source:{fileName:D,lineNumber:93,columnNumber:23}}))},{label:"历史",key:"2",children:u.a.createElement(S.default,B({tabKey:f},e,{__source:{fileName:D,lineNumber:97,columnNumber:23}}))}];return u.a.createElement("div",{className:"content-box-center",__source:{fileName:D,lineNumber:106,columnNumber:9}},u.a.createElement(j.a,{breadItem:["计划详情"],__source:{fileName:D,lineNumber:107,columnNumber:13}}),u.a.createElement(l.default,{className:"testplan-form-info",form:s,labelAlign:"left",__source:{fileName:D,lineNumber:108,columnNumber:13}},u.a.createElement("div",{className:"display-flex-between",__source:{fileName:D,lineNumber:109,columnNumber:17}},u.a.createElement("div",{style:{width:200,height:32},__source:{fileName:D,lineNumber:110,columnNumber:21}},u.a.createElement(O,{value:null==m?void 0:m.name,tabIndex:2,onSave:function(e){n({id:y,name:e}).then((function(){t(y)}))},startEditingOnFocus:!0,submitOnUnfocus:!0,showButtonsOnHover:!0,viewProps:{className:"edit-api-name"},editButtonClassName:"ediText-edit",saveButtonClassName:"ediText-save",cancelButtonClassName:"ediText-cancel",editButtonContent:u.a.createElement("svg",{className:"icon","aria-hidden":"true",__source:{fileName:D,lineNumber:123,columnNumber:33}},u.a.createElement("use",{xlinkHref:"#icon-bianji1",__source:{fileName:D,lineNumber:124,columnNumber:37}})),hideIcons:!0,__source:{fileName:D,lineNumber:111,columnNumber:25}})),u.a.createElement("div",{className:"display-flex-between",style:{width:130},__source:{fileName:D,lineNumber:130,columnNumber:21}})),u.a.createElement("div",{className:"form-edit-detail",__source:{fileName:D,lineNumber:134,columnNumber:17}},u.a.createElement(l.default.Item,{label:"起始时间",name:"startTime",__source:{fileName:D,lineNumber:135,columnNumber:25}},u.a.createElement(o.a,{format:"YYYY-MM-DD",onChange:function(e,t){n({id:y,startTime:t})},bordered:!1,onMouseEnter:function(){v("startTime")},onMouseLeave:function(){v("")},__source:{fileName:D,lineNumber:139,columnNumber:29}})),u.a.createElement(l.default.Item,{label:"结束时间",name:"endTime",__source:{fileName:D,lineNumber:149,columnNumber:25}},u.a.createElement(o.a,{format:"YYYY-MM-DD",onChange:function(e,t){n({id:y,endTime:t})},bordered:!1,onMouseEnter:function(){v("endTime")},onMouseLeave:function(){v("")},__source:{fileName:D,lineNumber:153,columnNumber:29}})),u.a.createElement("div",{className:"test-plan-select",__source:{fileName:D,lineNumber:162,columnNumber:25}},u.a.createElement(l.default.Item,{label:"进度",name:"state",__source:{fileName:D,lineNumber:163,columnNumber:29}},u.a.createElement(i.default,{style:{width:120,height:32},onChange:function(e){n({id:y,state:e})},showArrow:"state"===p,suffixIcon:"state"===p?u.a.createElement(P.a,{__source:{fileName:D,lineNumber:172,columnNumber:80}}):null,onMouseEnter:function(){v("state")},onMouseLeave:function(){v("")},__source:{fileName:D,lineNumber:168,columnNumber:33}},u.a.createElement(Y,{value:0,__source:{fileName:D,lineNumber:176,columnNumber:37}},"未开始"),u.a.createElement(Y,{value:1,__source:{fileName:D,lineNumber:177,columnNumber:37}},"进行中"),u.a.createElement(Y,{value:2,__source:{fileName:D,lineNumber:178,columnNumber:37}},"结束")))))),u.a.createElement(a.default,{defaultActiveKey:"1",items:x,onChange:function(e){b(e)},__source:{fileName:D,lineNumber:185,columnNumber:13}}))})))},994:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),l=(a=n(78),n(941)),i=n(204),r="D:\\a-dk-web\\thoughtware-teston-ui\\src\\testplan\\plan\\components\\testPlanInstanceList.js";t.default=Object(a.observer)((function(e){var t=sessionStorage.getItem("testPlanId");return o.a.createElement("div",{className:"content-box-center",__source:{fileName:r,lineNumber:11,columnNumber:9}},o.a.createElement("div",{className:"header-box-space-between",__source:{fileName:r,lineNumber:12,columnNumber:13}},o.a.createElement("div",{className:"header-box-title",__source:{fileName:r,lineNumber:13,columnNumber:17}},"测试历史")),o.a.createElement(l.a,{belongId:t,type:i.a.TEST_PLAN,__source:{fileName:r,lineNumber:16,columnNumber:13}}))}))}}]);