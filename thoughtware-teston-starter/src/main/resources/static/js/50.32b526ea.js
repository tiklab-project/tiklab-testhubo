(window.webpackJsonp=window.webpackJsonp||[]).push([[50],{1067:function(e,t,r){"use strict";r.r(t),r(623);var a=r(476),n=r(0),l=r.n(n),u=r(78),i=r(934),m=(r(621),r(620)),c=(r(242),r(143)),o=(r(124),r(86)),s=(r(263),r(130)),b=r(996),N="D:\\a-dk-web\\thoughtware-teston-ui\\src\\test\\web\\perf\\components\\webPerformTestDrawer.js";function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var a,n,l=[],u=!0,i=!1;try{for(r=r.call(e);!(u=(a=r.next()).done)&&(l.push(a.value),!t||l.length!==t);u=!0);}catch(e){i=!0,n=e}finally{try{u||null==r.return||r.return()}finally{if(i)throw n}}return l}}(e,t)||function(e,t){var r;if(e)return"string"==typeof e?d(e,t):"Map"===(r="Object"===(r=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?d(e,t):void 0}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}var _=Object(u.observer)((function(e){var t,r=b.a.webPerfExecute,a=b.a.exeResult,u=(v=(b.a.agentId,f(Object(n.useState)(),2)))[0],i=v[1],d=(v=f(Object(n.useState)([]),2))[0],_=v[1],v=[{title:"是否通过",width:"15%",dataIndex:"result",render:function(e,t){return 1===e?l.a.createElement("div",{className:"history-item-result isSucceed",style:{margin:0},__source:{fileName:N,lineNumber:20,columnNumber:22}},"通过"):l.a.createElement("div",{className:"history-item-result isFailed",style:{margin:0},__source:{fileName:N,lineNumber:21,columnNumber:22}},"未通过")}},{title:"步骤数",width:"15%",dataIndex:"stepNum"},{title:"通过数",width:"15%",dataIndex:"passNum"},{title:"失败数",dataIndex:"failNum",width:"15%"},{title:"通过率",dataIndex:"passRate",width:"15%"},{title:"耗时",dataIndex:"totalDuration",width:"15%",render:function(e){return l.a.createElement("div",{__source:{fileName:N,lineNumber:47,columnNumber:32}},e,"ms")}}],y=sessionStorage.getItem("webPerfId"),h=(t=f(Object(n.useState)(!1),2))[0],p=t[1],E=(t=f(Object(n.useState)(!1),2))[0],w=t[1],g=(t=f(Object(n.useState)(!1),2))[0],j=t[1],S=Object(n.useRef)(null);return Object(n.useEffect)((function(){return g&&(S.current=setInterval((function(){a(y).then((function(e){2===e.status&&(clearInterval(S.current),j(!1),w(!1)),i(e.webPerfInstance),_(e.webSceneInstanceList)}))}),5e3)),function(){return S.current=null}}),[g]),l.a.createElement(l.a.Fragment,null,l.a.createElement(s.default,{className:"important-btn",onClick:function(){r(y),w(!0),p(!0),j(!0)},__source:{fileName:N,lineNumber:95,columnNumber:13}},"测试"),l.a.createElement(m.default,{title:"测试结果",placement:"right",onClose:function(){p(!1),w(!0),j(!1)},visible:h,width:1240,destroyOnClose:!0,maskStyle:{background:"transparent"},contentWrapperStyle:{top:48,height:"calc(100% - 50px)"},__source:{fileName:N,lineNumber:96,columnNumber:13}},l.a.createElement("div",{className:"result-spin-box",__source:{fileName:N,lineNumber:106,columnNumber:17}},l.a.createElement(c.a,{spinning:E,__source:{fileName:N,lineNumber:107,columnNumber:21}},l.a.createElement("div",{className:"history-detail history-detail-box",__source:{fileName:N,lineNumber:108,columnNumber:25}},l.a.createElement("div",{className:"history-detail-all",__source:{fileName:N,lineNumber:109,columnNumber:29}},l.a.createElement("div",{className:"header-item",__source:{fileName:N,lineNumber:110,columnNumber:33}},"测试总详情"),l.a.createElement("div",{className:"history-detail-all-box",__source:{fileName:N,lineNumber:111,columnNumber:33}},l.a.createElement("div",{className:"history-detail-all-item",__source:{fileName:N,lineNumber:112,columnNumber:37}},l.a.createElement("div",{__source:{fileName:N,lineNumber:113,columnNumber:41}},"通过率"),l.a.createElement("div",{className:"history-detail-all-item-value",__source:{fileName:N,lineNumber:114,columnNumber:41}},null==u?void 0:u.passRate)),l.a.createElement("div",{className:"history-detail-all-item",__source:{fileName:N,lineNumber:116,columnNumber:37}},l.a.createElement("div",{__source:{fileName:N,lineNumber:117,columnNumber:41}},"失败率"),l.a.createElement("div",{className:"history-detail-all-item-value",__source:{fileName:N,lineNumber:118,columnNumber:41}},null==u?void 0:u.errorRate)),l.a.createElement("div",{className:"history-detail-all-item",__source:{fileName:N,lineNumber:120,columnNumber:37}},l.a.createElement("div",{__source:{fileName:N,lineNumber:121,columnNumber:41}},"总数"),l.a.createElement("div",{className:"history-detail-all-item-value",__source:{fileName:N,lineNumber:122,columnNumber:41}},null==u?void 0:u.total)),l.a.createElement("div",{className:"history-detail-all-item",__source:{fileName:N,lineNumber:124,columnNumber:37}},l.a.createElement("div",{__source:{fileName:N,lineNumber:125,columnNumber:41}},"通过数"),l.a.createElement("div",{className:"history-detail-all-item-value",__source:{fileName:N,lineNumber:126,columnNumber:41}},null==u?void 0:u.passNum)),l.a.createElement("div",{className:"history-detail-all-item",__source:{fileName:N,lineNumber:129,columnNumber:37}},l.a.createElement("div",{__source:{fileName:N,lineNumber:130,columnNumber:41}},"未通过数"),l.a.createElement("div",{className:"history-detail-all-item-value",__source:{fileName:N,lineNumber:131,columnNumber:41}},null==u?void 0:u.failNum)))),l.a.createElement("div",{className:"history-detail-all",__source:{fileName:N,lineNumber:135,columnNumber:29}},l.a.createElement("div",{className:"header-item",__source:{fileName:N,lineNumber:136,columnNumber:33}},"场景列表"),l.a.createElement("div",{className:"table-list-box",style:{margin:"10px"},__source:{fileName:N,lineNumber:137,columnNumber:33}},l.a.createElement(o.default,{columns:v,dataSource:d,rowKey:function(e){return e.id},pagination:!1,__source:{fileName:N,lineNumber:138,columnNumber:37}}))))))))})),v=r(1001),y=r(97),h=r(937),p="D:\\a-dk-web\\thoughtware-teston-ui\\src\\test\\web\\perf\\components\\webPerformDetail.js";function E(){return(E=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r,a=arguments[t];for(r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var a,n,l=[],u=!0,i=!1;try{for(r=r.call(e);!(u=(a=r.next()).done)&&(l.push(a.value),!t||l.length!==t);u=!0);}catch(e){i=!0,n=e}finally{try{u||null==r.return||r.return()}finally{if(i)throw n}}return l}}(e,t)||function(e,t){var r;if(e)return"string"==typeof e?g(e,t):"Map"===(r="Object"===(r=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?g(e,t):void 0}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}t.default=Object(u.inject)("webPerfStore")(Object(u.observer)((function(e){var t,r=(t=e.webPerfStore).findWebPerf,u=(t=(t.updateWebPerf,w(Object(n.useState)(),2)))[0],m=t[1],c=Object(y.g)(),o=Object(y.i)().id,s=sessionStorage.getItem("webPerfId")||o;return Object(n.useEffect)((function(){sessionStorage.setItem("webPerfId",o),r(s).then((function(e){m(e)}))}),[s]),l.a.createElement("div",{className:"content-box-center",__source:{fileName:p,lineNumber:51,columnNumber:9}},l.a.createElement("div",{className:"breadcrumb-title_between",__source:{fileName:p,lineNumber:52,columnNumber:13}},l.a.createElement(a.a,{className:"breadcrumb-box",__source:{fileName:p,lineNumber:53,columnNumber:17}},l.a.createElement(a.a.Item,{__source:{fileName:p,lineNumber:54,columnNumber:21}},"用例详情")),l.a.createElement(h.a,{__source:{fileName:p,lineNumber:56,columnNumber:17}})),l.a.createElement(i.a,{type:!0,detailInfo:u,updateCase:updateCase,toHistory:function(){c.push("/repository/web-perform-instance")},test:l.a.createElement(_,{__source:{fileName:p,lineNumber:63,columnNumber:23}}),__source:{fileName:p,lineNumber:58,columnNumber:13}}),l.a.createElement(v.a,E({type:!0},e,{__source:{fileName:p,lineNumber:65,columnNumber:13}})))})))},937:function(e,t,r){"use strict";r.d(t,"a",(function(){return u}));t=r(0);var a=r.n(t),n=r(205),l=r(97),u=function(){return Object(l.g)(),a.a.createElement(n.a,{className:"icon-s edit-icon",icon:"shanchu2",__source:{fileName:"D:\\a-dk-web\\thoughtware-teston-ui\\src\\test\\common\\BreadcrumbCommon.js",lineNumber:8,columnNumber:9}})}}}]);